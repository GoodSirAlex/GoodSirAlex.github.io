<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Overlapping Cards with Borders</title>
  <style>
    /* Style for cards */
    .cards-row {
      position: relative;
      width: 98%;
      min-height: 200px;
      max-height: 600px;
      /* height: 200px; */
      margin: 0 auto;
    }
    .cards-row-2 {
      position: relative;
      width: 98%;
      max-height: 600px;
      min-height: 200px;
      margin: 0 auto;
    }
    .card {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 20%;
      max-height: 400px;
      /* min-height: 200px; Set minimum card height */
      background-color: none;
      margin: 10px 5px;
      border-radius: 10px;
    }
    .highlight {
      transform: translateY(-54%);
    }
  
    .selected-cards {
      display: none;
      margin-top: 20px;
    }
    .selected-cards .card-container {
      flex-wrap: wrap;
      justify-content: center;
    }

    .selected-cards .card-title {
      color: white;
      margin-bottom: 5px;
      font-weight: bold;
      text-align: center;
    }

    .show {
      display: block !important; /* Show selected cards */
    }

    #continueButton {
      display: none;
      margin: 0 auto;
      margin-top: 90px;
      width: 180px;
      height: 44px;
      text-align: center;
      text-decoration: none;
      border-radius: 12px;
      border: none;
      font-size: 14px;
      box-shadow: none;
      background-image: linear-gradient(to right, #9c5ad2, #5a62fa);
      color: white;
    }

    body {
      background-color: rgb(9, 14, 18);
      margin: 0; /* Remove default body margin */
      padding: 0; /* Remove default body padding */
    }
  </style>
</head>
<body>
  <!-- Cards in one row -->
  <div id="title" style="width: 80%; margin: 0 auto;"><h3 style="color: white; text-align: center;">Select 6 cards</h3></div>

  <div style="margin: 0 auto;">
    <div class="cards-row">
      <div class="card on" data-id="1" style="left: 0%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover;  width: 100%; height: auto; "></img></div>
      <div class="card on" data-id="2" style="left: 8%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="3" style="left: 16%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="4" style="left: 24%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="5" style="left: 32%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="6" style="left: 40%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="7" style="left: 48%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="8" style="left: 56%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="9" style="left: 64%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="10" style="left: 72%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="11" style="left: 80%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
    </div>
  
    <div class="cards-row-2" style="margin-top: 32px;">
      <div class="card on" data-id="12" style="left: 0%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="13" style="left: 8%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="14" style="left: 16%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id=15" style="left: 24%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="16" style="left: 32%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="17" style="left: 40%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="18" style="left: 48%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="19" style="left: 56%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="20" style="left: 64%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="21" style="left: 72%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
      <div class="card on" data-id="22" style="left: 80%;" onclick="handleButtonClick(this)"><img src="cards/back.png" class="card-image" style="object-fit: cover; width: 100%; height: auto"></img></div>
    </div>
  </div>

  <!-- Continue button -->
  <button id="continueButton" onclick="showSelectedCards()"">Show Readings</button>

  <!-- Selected cards container -->
  <div class="selected-cards" id="selectedCardsContainer">
    <!-- Selected cards will be dynamically added here -->
  </div>

  <script>
        let selectedCards = [];

        function handleButtonClick(button) {
          if (selectedCards.length >= 6 && !button.classList.contains('highlight')) {
            alert('You cannot select more than 6 cards.');
            return;
          }

          // Highlight the clicked button
          button.classList.toggle('highlight');

          // Toggle card in selectedCards array
          const cardId = parseInt(button.getAttribute('data-id'));
          const index = selectedCards.indexOf(cardId);
          if (index === -1) {
            selectedCards.push(cardId);
            var image = button.querySelector('img')
            image.src= 'cards/back_selected.png'
          } else {
            selectedCards.splice(index, 1);
            var image = button.querySelector('img')
            image.src= 'cards/back.png'
          }

          // Toggle continue button visibility
          const continueButton = document.getElementById('continueButton');
          continueButton.style.display = selectedCards.length >= 6 ? 'block' : 'none';

          // Print the IDs of selected cards to the console
          console.log(selectedCards);
        }

        function getRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

  
        function showSelectedCards() {
          const selectedCardsContainer = document.getElementById('selectedCardsContainer');

          // Clear existing content
          selectedCardsContainer.innerHTML = '';

          // Show the selected cards container
          selectedCardsContainer.classList.add('show');

          // Create a container for selected cards
          const cardContainer = document.createElement('div');
          cardContainer.classList.add('card-container');

          // Populate the card container with selected cards
          let card_idx = 0
          let cardTitles = [
            'How you feel about yourself',
            'What you want most right now',
            'Your fears',
            'What is going for you',
            'What is going against you',
            'The likely outcome',
          ]

          var randomCards = [];
          var selectedNumbers = new Set(); // Using a Set to keep track of selected numbers

          // Generate 6 random values without repeating
          while (randomCards.length < 6) {
              var randomNumber = getRandomNumber(1, 22);
              if (!selectedNumbers.has(randomNumber)) {
                  selectedNumbers.add(randomNumber);
                  randomCards.push(randomNumber);
              }
          }



          selectedCards.forEach(cardId => {
            const cardTitle = document.createElement('div');
            cardTitle.classList.add('card-title');
            cardTitle.textContent = 'Card ' + (card_idx + 1) + ': ' + cardTitles[card_idx];
            cardContainer.appendChild(cardTitle);

            const card = document.createElement('div');
            card.classList.add('card');
            card.textContent = cardId;

            const card_image = document.createElement('img');
            card_image.src = 'cards/' + String(randomCards[card_idx]) + '.jpeg'
            card_image.style.width = '200px';
            card_image.style.height = '312px';
            card.appendChild(card_image)
            cardContainer.appendChild(card);

            card_idx += 1
          });

          // Append the card container to the selected cards container
          selectedCardsContainer.appendChild(cardContainer);


          // Hide the cards row
          selectedCardsContainer.querySelectorAll('.card').forEach(card => {
            card.style.position = 'relative';
            card.style.transform = 'none';
            card.style.margin = '0 auto';
            card.style.width = '200px !important';
            card.style.height = '312px !important';
            card.style.minWidth = '200px';
            card.style.maxWidth = '200px';
            card.style.maxHeight = '312px'
            card.style.marginBottom = '60px'
          });
          const title = document.querySelector('#title');
          title.style.display = 'none';
          const cardsRow = document.querySelector('.cards-row');
          cardsRow.style.display = 'none';
          const cardsRow2 = document.querySelector('.cards-row-2');
          cardsRow2.style.display = 'none';
          const continueButton = document.querySelector('#continueButton');
          continueButton.style.display = 'none';
        }
  </script>
</body>
</html>
